import{d as D,ae as V,P as h,S as N,o as m,a as y,e as s,w as e,b as a,h as k,af as n,ag as T,t as o,ah as w,ao as g}from"./index-yLVU4Ex3.js";import{V as S,a as p}from"./forwardRefs-CL6gp1Ft.js";import{V as C,a as Q}from"./VCard-CEBs-cN-.js";import{V as u}from"./VSpacer-8kzBF65J.js";import{V as q,a as F}from"./VDataTable-DWxs43Fs.js";import{c as B}from"./VList-TgTC3FCO.js";import{V as H}from"./scopeId-C6LQZbL7.js";import"./VInput-C1v2JwYH.js";const M={class:"ChillColor"},A={style:{"text-align":"center",width:"20px"}},R=["href"],E={key:0,class:"status-badge status-active"},G={key:1,class:"status-badge status-locked"},O=D({__name:"DanhSachQuyTrinh",setup(P){const c=V();let i=h(""),r=h(!1),f=h({succeeded:null,code:null,message:null,errors:null,data:[]}),v=[{text:"STT",value:"STT",title:"STT"},{text:"Mã quy trình",value:"maQuyTrinh",sortable:!0,title:"Mã quy trình"},{text:"Tên quy trình",value:"tenQuyTrinh",title:"Tên quy trình",sortable:!0},{text:"Người tạo",value:"userName",title:"Người tạo",sortable:!0},{text:"Ngày tạo",value:"created",title:"Ngày tạo",sortable:!0},{text:"Ngày bắt đầu",value:"ngayBatDau",title:"Ngày bắt đầu",sortable:!0},{text:"Trạng thái",value:"status",title:"Trang thái",sortable:!0},{text:"Nội dung",value:"noiDung",title:"Nội dung"}];async function b(){try{r.value=!0;const d=await w("/api/quanlythongtin/QuyTrinhNode/GetDanhSachQuyTinh","GET",{},{timeout:15e3});f.value=d,r.value=!1}catch{r.value=!1}}function x(){c.push("/home/taoquytrinh")}return N(()=>{b()}),(d,t)=>(m(),y("div",M,[s(H,null,{default:e(()=>[s(S,null,{default:e(()=>[s(p,{cols:"12",md:"12"},{default:e(()=>[a("button",{class:"btnAdd btn",onClick:x,style:{float:"right"}},t[2]||(t[2]=[a("span",{class:"icon-border"},[a("i",{class:"fas fa-plus"})],-1),k(" Thêm mới quy trình ")]))]),_:1}),s(p,{cols:"12",md:"12"},{default:e(()=>[s(C,{flat:""},{default:e(()=>[s(Q,{class:"d-flex align-center pe-2"},{default:e(()=>[s(u),s(u),s(u),s(u),t[3]||(t[3]=a("div",{class:"FontDefault",style:{"margin-right":"10px"}},"Tìm kiếm",-1)),s(q,{modelValue:n(i),"onUpdate:modelValue":t[0]||(t[0]=l=>T(i)?i.value=l:i=l),density:"compact",label:"Search","prepend-inner-icon":"mdi-magnify",variant:"solo-filled",flat:"","hide-details":"","single-line":""},null,8,["modelValue"])]),_:1}),s(B),s(F,{"items-per-page":10,search:n(i),"onUpdate:search":t[1]||(t[1]=l=>T(i)?i.value=l:i=l),"filter-keys":["maQuyTrinh","tenQuyTrinh","userName","ngayBatDau","ngayBatDau"],items:n(f).data,headers:n(v),"item-value":"id",class:"custom-table",density:"compact",loading:n(r),"loading-text":"Đang tải dữ liệu...","item-key":"name"},{"header.STT":e(()=>t[4]||(t[4]=[a("div",{class:"HeaderTable FontDefault"},"STT",-1)])),"item.STT":e(({index:l})=>[a("div",A,o(l+1),1)]),"header.maQuyTrinh":e(()=>t[5]||(t[5]=[a("div",{class:"HeaderTable FontDefault",style:{width:"100px"}},"Mã quy trinh",-1)])),"item.maQuyTrinh":e(({item:l})=>[a("div",null,[a("a",{style:{"font-weight":"bold",color:"black"},href:`/home/quytrinh/${l.id}`},o(l.maQuyTrinh),9,R)])]),"header.tenQuyTrinh":e(()=>t[6]||(t[6]=[a("div",{class:"HeaderTable FontDefault",style:{width:"250px"}},"Tên quy trình",-1)])),"header.created":e(()=>t[7]||(t[7]=[a("div",{class:"HeaderTable FontDefault",style:{width:"100px"}},"Ngày tạo",-1)])),"item.created":e(({item:l})=>[a("div",null,o(n(g)(l.created)),1)]),"header.ngayBatDau":e(()=>t[8]||(t[8]=[a("div",{class:"HeaderTable FontDefault",style:{width:"100px"}},"Ngày kích hoạt",-1)])),"item.ngayBatDau":e(({item:l})=>[a("div",null,o(n(g)(l.ngayBatDau)),1)]),"header.status":e(()=>t[9]||(t[9]=[a("div",{class:"HeaderTable FontDefault",style:{width:"100px"}},"Trạng thái",-1)])),"item.status":e(({item:l})=>[a("div",null,[l.status?(m(),y("span",E," Đã kích hoạt ")):(m(),y("span",G," Chưa kích hoạt "))])]),"header.userName":e(()=>t[10]||(t[10]=[a("div",{class:"HeaderTable FontDefault",style:{width:"150px"}},"Người tạo",-1)])),"header.noiDung":e(()=>t[11]||(t[11]=[a("div",{class:"HeaderTable FontDefault",style:{width:"300px"}},"Nội dung",-1)])),_:1},8,["search","items","headers","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{O as default};
