import{_ as G}from"./BtnDiaLogYesNo.vue_vue_type_style_index_0_lang-DCA-l6aP.js";import{d as w,P as d,R as K,S as Q,o as k,a as F,f as D,am as z,b as l,F as O,r as Y,af as o,ah as U,t as N,I as $,e as t,w as a,h as y,v as I,ag as x,i as q,V as Z}from"./index-yLVU4Ex3.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as J}from"./CbPhanQuyen-CLCVyFEO.js";import{V as p,a as u}from"./forwardRefs-CL6gp1Ft.js";import{V as W}from"./VSnackbar-BlYJOY5q.js";import{V as P}from"./scopeId-C6LQZbL7.js";import"./VCard-CEBs-cN-.js";import"./VSpacer-8kzBF65J.js";import"./VDialog-wcZ8aBeV.js";const X={class:"combobox-container"},ll=["value"],el=w({__name:"CBPhongBan",props:{Id:{}},emits:["update:Id"],setup(B,{emit:s}){const g=s,v=B,f=d(v.Id);let _=d({succeeded:null,code:null,message:null,errors:null,data:[]});async function b(){try{const i=await U("/api/quanlythongtin/PhongBan/DanhSachPhongBan","GET",{},{timeout:15e3});_.value=i,console.log(_.value)}catch{}}function m(){g("update:Id",f.value)}return K(()=>v.Id,i=>{f.value=i}),Q(async()=>{await b()}),(i,r)=>(k(),F("div",X,[D(l("select",{id:"email",class:"combobox","onUpdate:modelValue":r[0]||(r[0]=h=>f.value=h),onChange:m},[r[1]||(r[1]=l("option",{value:"",key:"0"},null,-1)),(k(!0),F(O,null,Y(o(_).data,(h,V)=>(k(),F("option",{key:h.id,value:h.id},N(h.tenPhongBan),9,ll))),128))],544),[[z,f.value]]),r[2]||(r[2]=l("span",{class:"combobox-icon"},"▼",-1))]))}}),tl=j(el,[["__scopeId","data-v-438b2a74"]]),al={class:"ChillColor"},nl={class:"input-container"},ol={class:"input-container"},sl={type:"text",id:"myInputId",class:"FontDefault",placeholder:"",value:"123Pa$$word!",ref:"taiKhoanRef",readonly:""},il={class:"input-container"},ul={class:"input-container"},dl={class:"input-container"},rl={class:"input-container"},cl={class:"input-container"},pl={class:"input-container"},fl={style:{float:"right"}},xl=w({__name:"CreateAccountNew",setup(B){let s=d({visible:!1,color:"#CD3333",icon:"mdi-cancel",title:"Login Failed",text:"Invalid username or password. Please try again."}),g=d(""),v=d(""),f=d(""),_=d(""),b=d(""),m=d(!1),i=d(""),r=d("");const h=d(""),V=$({get:()=>h.value,set:c=>{h.value=c.replace(/[^a-zA-Z0-9]/g,"")}}),C=d(!1),A=c=>{C.value=c,C.value==!0&&M()};function R(c){_.value=c}function T(c){b.value=c}const S=()=>{V.value===""?(i.value='Vui lòng nhập "TÀI KHOẢN"!',m.value=!1):v.value===""?(i.value='Vui lòng nhập "HỌ"!',m.value=!1):g.value===""?(i.value='Vui lòng nhập "TÊN"!',m.value=!1):_.value==""?(i.value='Vui lòng chọn "QUYỀN"!',m.value=!1):b.value==""?(i.value='Vui lòng chọn "PHÒNG BAN"!',m.value=!1):(i.value="Bạn có muốn tạo tài khoản không?",m.value=!0)};async function M(){try{let c=await U("/api/account/CreateAcount","POST",{roleId:_.value??"",firstName:v.value??"",lastName:g.value??"",email:f.value??"",userName:V.value??"",phoneNumber:r.value??"",phongBanId:b.value},{timeout:15e3});s.value.text="Tạo thành công",s.value.visible=!0,s.value.color="#109011"}catch(c){s.value.text=c,s.value.visible=!0,s.value.color="#CD3333"}}return(c,e)=>{const E=J,H=tl,L=G;return k(),F("div",al,[t(P,null,{default:a(()=>[t(p,null,{default:a(()=>[t(u,{cols:"12",md:"6"},{default:a(()=>[t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>e[6]||(e[6]=[l("div",{class:"input-container"},[l("label",{for:"",class:"FontDefault"},"Mã nhân viên"),l("input",{type:"text",id:"",class:"FontDefault",placeholder:"Mã nhân viên được tạo tự động khi xác nhận tạo thành công",readonly:""})],-1)])),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",nl,[e[7]||(e[7]=l("label",{for:"",class:"FontDefault"},[l("div",{style:{display:"inline-block","vertical-align":"middle",color:"red"}},"*"),y(" Tài khoản (user đăng nhập không dấu không khoảng cách) ")],-1)),D(l("input",{type:"text",id:"myInputId",class:"FontDefault",placeholder:"VD: nguyenvantuan","onUpdate:modelValue":e[0]||(e[0]=n=>x(V)?V.value=n:null),ref:"taiKhoanRef"},null,512),[[I,o(V)]])])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",ol,[e[8]||(e[8]=l("label",{for:"",class:"FontDefault"},[y(" Mật khẩu (mặc định) "),l("div",{style:{display:"inline-block","vertical-align":"middle",color:"red"}},"Người dụng tự đổi mật khẩu khi vào phần mềm")],-1)),l("input",sl,null,512)])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",il,[e[9]||(e[9]=l("label",{for:"",class:"FontDefault"},[l("div",{style:{display:"inline-block","vertical-align":"middle",color:"red"}},"*"),y(" Quyền ")],-1)),t(E,{RoleId:o(_),"onUpdate:RoleId":R},null,8,["RoleId"])])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",ul,[e[10]||(e[10]=l("label",{for:"",class:"FontDefault"},[l("div",{style:{display:"inline-block","vertical-align":"middle",color:"red"}},"*"),y(" Phòng ban ")],-1)),t(H,{Id:o(b),"onUpdate:Id":T},null,8,["Id"])])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",dl,[e[11]||(e[11]=l("label",{for:"",class:"FontDefault"},"Email",-1)),D(l("input",{type:"email",id:"",class:"FontDefault","onUpdate:modelValue":e[1]||(e[1]=n=>x(f)?f.value=n:f=n),placeholder:"VD: NguyenVanAn@gmail.com"},null,512),[[I,o(f)]])])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",rl,[e[12]||(e[12]=l("label",{for:"",class:"FontDefault"},[l("div",{style:{display:"inline-block","vertical-align":"middle",color:"red"}},"*"),y(" Họ ")],-1)),D(l("input",{type:"text",id:"",class:"FontDefault","onUpdate:modelValue":e[2]||(e[2]=n=>x(v)?v.value=n:v=n),placeholder:"VD: Nguyễn"},null,512),[[I,o(v)]])])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",cl,[e[13]||(e[13]=l("label",{for:"",class:"FontDefault"},[l("div",{style:{display:"inline-block","vertical-align":"middle",color:"red"}},"*"),y(" Tên ")],-1)),D(l("input",{type:"text",id:"",class:"FontDefault",ref:"tenRef","onUpdate:modelValue":e[3]||(e[3]=n=>x(g)?g.value=n:g=n),placeholder:"VD: Văn An"},null,512),[[I,o(g)]])])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(u,{cols:"12"},{default:a(()=>[l("div",pl,[e[14]||(e[14]=l("label",{for:"",class:"FontDefault"},"Số điện thoại",-1)),D(l("input",{type:"text",id:"",class:"FontDefault",placeholder:"VD: 0968103653","onUpdate:modelValue":e[4]||(e[4]=n=>x(r)?r.value=n:r=n)},null,512),[[I,o(r)]])])]),_:1})]),_:1})]),_:1}),t(u,{cols:"12",style:{"text-align":"center","margin-top":"50px"},md:"6"},{default:a(()=>[t(q,{size:"150",class:"me-4"},{default:a(()=>e[15]||(e[15]=[l("img",{src:"https://via.placeholder.com/150",alt:"User Avatar"},null,-1)])),_:1})]),_:1})]),_:1}),l("div",fl,[t(L,{IsError:o(m),"-ten-button":"Tạo tài khoản",Messgase:o(i),"-title":"Thông báo",onDataSent:A,onClick:S},null,8,["IsError","Messgase"])]),t(W,{modelValue:o(s).visible,"onUpdate:modelValue":e[5]||(e[5]=n=>o(s).visible=n),timeout:2e3,color:o(s).color},{default:a(()=>[t(P,null,{default:a(()=>[t(p,null,{default:a(()=>[t(u,{cols:"1"},{default:a(()=>[t(Z,{color:"white"},{default:a(()=>[y(N(o(s).icon),1)]),_:1})]),_:1}),t(u,{cols:"11",style:{"padding-top":"14px"}},{default:a(()=>[y(N(o(s).text),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","color"])]),_:1})])}}});export{xl as default};
