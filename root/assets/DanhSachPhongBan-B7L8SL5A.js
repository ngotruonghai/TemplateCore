import{d as k,ae as B,P as u,S as P,o as p,a as c,e as a,w as t,b as l,h,af as o,ag as b,t as m,V as S,ah as C,ao as F}from"./index-yLVU4Ex3.js";import{V as g,a as d}from"./forwardRefs-CL6gp1Ft.js";import{V as w,a as H}from"./VCard-CEBs-cN-.js";import{V as f}from"./VSpacer-8kzBF65J.js";import{V as N,a as A}from"./VDataTable-DWxs43Fs.js";import{c as I}from"./VList-TgTC3FCO.js";import{V as L}from"./VSnackbar-BlYJOY5q.js";import{V as T}from"./scopeId-C6LQZbL7.js";import"./VInput-C1v2JwYH.js";const M={class:"ChillColor"},R={style:{"text-align":"center"}},U={key:0,class:"status-badge status-active"},E={key:1,class:"status-badge status-locked"},_={class:"action-buttons"},Y=k({__name:"DanhSachPhongBan",setup(q){const V=B();let n=u("");u([]);let x=[{text:"STT",value:"STT",width:"30px",sortable:!0},{text:"Mã phòng ban",value:"maPhongBan"},{text:"Tên phòng ban",value:"tenPhongBan"},{text:"Ngày tạo",value:"created"},{text:"Trạng thái hoạt động",value:"status"},{text:"Thao tác",value:"id"}],i=u({visible:!1,color:"#CD3333",icon:"mdi-cancel",title:"Login Failed",text:"Invalid username or password. Please try again."}),v=u({succeeded:null,code:null,message:null,errors:null,data:[]});async function y(){try{const r=await C("/api/quanlythongtin/PhongBan/DanhSachPhongBan","GET",{},{timeout:15e3});v.value=r}catch(r){i.value.text=r,i.value.visible=!0}}function D(){V.push("/home/taophongban")}return P(()=>{y()}),(r,e)=>(p(),c("div",M,[a(T,null,{default:t(()=>[a(g,null,{default:t(()=>[a(d,{cols:"12",md:"6"}),a(d,{cols:"12",md:"12"},{default:t(()=>[l("button",{class:"btnAdd btn",onClick:e[0]||(e[0]=s=>D()),style:{float:"right"}},e[5]||(e[5]=[l("span",{class:"icon-border"},[l("i",{class:"fas fa-plus"})],-1),h(" Thêm mới ")]))]),_:1})]),_:1}),a(g,null,{default:t(()=>[a(d,{cols:"12"},{default:t(()=>[l("div",null,[a(w,{flat:""},{default:t(()=>[a(H,{class:"d-flex align-center pe-2"},{default:t(()=>[a(f),a(f),a(f),a(f),e[6]||(e[6]=l("div",{class:"FontDefault",style:{"margin-right":"10px"}},"Tìm kiếm",-1)),a(N,{modelValue:o(n),"onUpdate:modelValue":e[1]||(e[1]=s=>b(n)?n.value=s:n=s),density:"compact",label:"Search","prepend-inner-icon":"mdi-magnify",variant:"solo-filled",flat:"","hide-details":"","single-line":""},null,8,["modelValue"])]),_:1}),a(I),a(A,{search:o(n),"onUpdate:search":e[3]||(e[3]=s=>b(n)?n.value=s:n=s),"filter-keys":["maPhongBan","tenPhongBan"],items:o(v).data,headers:o(x),"item-value":"id",class:"custom-table",density:"compact","item-key":"name"},{"header.STT":t(()=>e[7]||(e[7]=[l("div",{class:"HeaderTable FontDefault"},"STT",-1)])),"item.STT":t(({index:s})=>[l("div",R,m(s+1),1)]),"header.maPhongBan":t(()=>e[8]||(e[8]=[l("div",{class:"HeaderTable FontDefault"},"Mã phòng ban",-1)])),"header.tenPhongBan":t(()=>e[9]||(e[9]=[l("div",{class:"HeaderTable FontDefault"},"Tên phòng ban",-1)])),"header.created":t(()=>e[10]||(e[10]=[l("div",{class:"HeaderTable FontDefault"},"Ngày tạo",-1)])),"item.created":t(({item:s})=>[l("div",null,m(o(F)(s.created)),1)]),"header.status":t(()=>e[11]||(e[11]=[l("div",{class:"HeaderTable FontDefault"},"Trạng thái",-1)])),"item.status":t(({item:s})=>[l("div",null,[s.status?(p(),c("span",U," Đã kích hoạt ")):(p(),c("span",E," Chưa kích hoạt "))])]),"header.id":t(()=>e[12]||(e[12]=[l("div",{class:"HeaderTable FontDefault"},"Thao tác",-1)])),"item.id":t(({item:s})=>[l("div",_,[l("button",{class:"action-button view",onClick:e[2]||(e[2]=()=>{})},e[13]||(e[13]=[l("i",{class:"mdi mdi-eye"},null,-1)])),e[14]||(e[14]=l("button",{class:"action-button delete"},[l("i",{class:"mdi mdi-trash-can"})],-1))])]),_:1},8,["search","items","headers"])]),_:1})])]),_:1})]),_:1}),a(L,{modelValue:o(i).visible,"onUpdate:modelValue":e[4]||(e[4]=s=>o(i).visible=s),timeout:2e3,color:o(i).color},{default:t(()=>[a(T,null,{default:t(()=>[a(g,null,{default:t(()=>[a(d,{cols:"1"},{default:t(()=>[a(S,{color:"white"},{default:t(()=>[h(m(o(i).icon),1)]),_:1})]),_:1}),a(d,{cols:"11",style:{"padding-top":"14px"}},{default:t(()=>[h(m(o(i).text),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","color"])]),_:1})]))}});export{Y as default};
